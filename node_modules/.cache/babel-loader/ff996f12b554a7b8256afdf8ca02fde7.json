{"ast":null,"code":"var _jsxFileName = \"F:\\\\Documents\\\\PTUDWNC\\\\tictactoe\\\\src\\\\components\\\\Tictactoe.js\";\nimport React from 'react';\nimport Board from './Board';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass Game extends React.Component {\n  constructor() {\n    super();\n    this.state = {\n      history: [{\n        squares: Array(9).fill(null),\n        moveLocation: ''\n      }],\n      xIsNext: true,\n      stepNumber: 0,\n      isReverse: false\n    };\n  }\n\n  changeReverse(isReverse) {\n    this.setState({\n      isReverse: !isReverse\n    });\n  }\n\n  handleClick(i) {\n    const history = this.state.history.slice(0, this.state.stepNumber + 1);\n    const current = history[history.length - 1];\n    const squares = current.squares.slice();\n\n    if (calculateWinner(squares) || squares[i]) {\n      return;\n    }\n\n    const matrixSize = Math.sqrt(history[0].squares.length);\n    const moveLocation = [Math.floor(i / matrixSize) + 1, i % matrixSize + 1].join(\", \"); // (row = vị trí / matrixSize, col = vị trí % matrixSize)\n\n    squares[i] = this.state.xIsNext ? 'X' : 'O';\n    this.setState({\n      history: history.concat([{\n        squares: squares,\n        moveLocation: moveLocation\n      }]),\n      xIsNext: !this.state.xIsNext,\n      stepNumber: history.length\n    });\n  }\n\n  jumpTo(step) {\n    this.setState({\n      stepNumber: step,\n      xIsNext: step % 2 === 0\n    });\n  }\n\n  render() {\n    const history = this.state.history;\n    const current = history[this.state.stepNumber];\n    const winner = calculateWinner(current.squares);\n    const squares = current.squares;\n    const isReverse = this.state.isReverse;\n    let status;\n\n    if (winner) {\n      status = \"Winner is: \" + winner.winnerPlayer;\n      ;\n    } else if (this.state.stepNumber === 9) {\n      status = \"No one win\";\n    } else {\n      status = \"Next player is: \" + (this.state.xIsNext ? 'X' : 'O');\n    }\n\n    const moves = history.map((step, move) => {\n      const description = move ? `Move #${move} (${step.moveLocation})` : 'Game start';\n      return /*#__PURE__*/_jsxDEV(\"li\", {\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => this.jumpTo(move),\n          children: description\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 9\n        }, this)\n      }, move, false, {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 17\n      }, this);\n    });\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"game\",\n        children: /*#__PURE__*/_jsxDEV(Board, {\n          squares: squares,\n          onClick: i => this.handleClick(i),\n          winner: winner && winner.winnerLocation\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 73,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"game-info\",\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          children: status\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 76,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"ol\", {\n          reversed: isReverse ? 'reverse' : '',\n          children: isReverse ? moves.reverse() : moves\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 77,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => this.changeReverse(isReverse),\n          children: \"Reverse list\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 9\n    }, this);\n  }\n\n}\n\nexport default Game;\n\nfunction calculateWinner(squares) {\n  const lines = [[0, 1, 2], [3, 4, 5], [6, 7, 8], [0, 3, 6], [1, 4, 7], [2, 5, 8], [0, 4, 8], [2, 4, 6]];\n\n  for (let i = 0; i < lines.length; i++) {\n    const [a, b, c] = lines[i];\n    console.log(squares[a]);\n\n    if (squares[a] && squares[a] === squares[b] && squares[a] === squares[c]) {\n      return {\n        winnerLocation: [a, b, c],\n        winnerPlayer: squares[a]\n      };\n    }\n  }\n\n  return null;\n}","map":{"version":3,"names":["React","Board","Game","Component","constructor","state","history","squares","Array","fill","moveLocation","xIsNext","stepNumber","isReverse","changeReverse","setState","handleClick","i","slice","current","length","calculateWinner","matrixSize","Math","sqrt","floor","join","concat","jumpTo","step","render","winner","status","winnerPlayer","moves","map","move","description","winnerLocation","reverse","lines","a","b","c","console","log"],"sources":["F:/Documents/PTUDWNC/tictactoe/src/components/Tictactoe.js"],"sourcesContent":["import React from 'react';\r\nimport Board from './Board';\r\n\r\nclass Game extends React.Component {\r\n    constructor(){\r\n        super();\r\n        this.state = {\r\n          history: [{\r\n            squares: Array(9).fill(null),\r\n            moveLocation: '', \r\n          }],\r\n          xIsNext: true,\r\n          stepNumber: 0,\r\n          isReverse: false,\r\n        };\r\n      }\r\n      changeReverse(isReverse){\r\n        this.setState({\r\n          isReverse: !isReverse\r\n        });\r\n      }\r\n      handleClick(i){\r\n        const history = this.state.history.slice(0, this.state.stepNumber + 1);\r\n        const current = history[history.length - 1];\r\n        const squares = current.squares.slice();\r\n        if(calculateWinner(squares) || squares[i]){\r\n          return;\r\n        }\r\n    \r\n        const matrixSize = Math.sqrt(history[0].squares.length);\r\n        const moveLocation = [Math.floor(i / matrixSize) + 1, (i % matrixSize) + 1].join(\", \"); // (row = vị trí / matrixSize, col = vị trí % matrixSize)\r\n        squares[i] = this.state.xIsNext ? 'X' : 'O';\r\n        this.setState({\r\n          history: history.concat([{\r\n            squares: squares,\r\n            moveLocation: moveLocation,\r\n          }]),\r\n          xIsNext: !this.state.xIsNext,\r\n          stepNumber: history.length\r\n        });\r\n      }\r\n    jumpTo(step) {\r\n      this.setState({\r\n        stepNumber: step,\r\n        xIsNext: (step % 2) === 0\r\n      });\r\n    }\r\n  \r\n    render() {\r\n      const history = this.state.history;\r\n      const current = history[this.state.stepNumber];\r\n      const winner = calculateWinner(current.squares);\r\n      const squares = current.squares;  \r\n      const isReverse = this.state.isReverse;  \r\n  \r\n      let status;\r\n      if(winner){\r\n        status = \"Winner is: \" + winner.winnerPlayer;;\r\n      }else if(this.state.stepNumber === 9){ \r\n        status = \"No one win\"; \r\n      }else{\r\n        status = \"Next player is: \" + (this.state.xIsNext ? 'X' : 'O');\r\n      }\r\n      const moves = history.map((step, move) => {\r\n        const description = move ? `Move #${move} (${step.moveLocation})` : 'Game start'; \r\n       return ( <li key={move}>\r\n        <button onClick={() => this.jumpTo(move)}>{description}</button>\r\n      </li>)\r\n      });\r\n      return(\r\n        <div>\r\n          <div className=\"game\">\r\n            <Board squares={squares} onClick={i => this.handleClick(i)} winner={winner && winner.winnerLocation}/>\r\n          </div>\r\n          <div className=\"game-info\">\r\n            <p>{status}</p>\r\n            <ol reversed={isReverse ? 'reverse' :''}>{isReverse ? moves.reverse() : moves}</ol>\r\n            <button onClick={() => this.changeReverse(isReverse)}>Reverse list</button>\r\n          </div>\r\n        </div>\r\n      );\r\n    }\r\n  }\r\n\r\nexport default Game;\r\n\r\nfunction calculateWinner(squares) {\r\n    const lines = [\r\n        [0, 1, 2],\r\n        [3, 4, 5],\r\n        [6, 7, 8],\r\n        [0, 3, 6],\r\n        [1, 4, 7],\r\n        [2, 5, 8],\r\n        [0, 4, 8],\r\n        [2, 4, 6]\r\n      ];\r\n    for (let i = 0; i < lines.length; i++) {\r\n      const [a, b, c] = lines[i];\r\n      console.log(squares[a])\r\n      if (squares[a] && squares[a] === squares[b] && squares[a] === squares[c]) {\r\n        return{\r\n            winnerLocation: [a,b,c],\r\n            winnerPlayer: squares[a]\r\n        }\r\n      }\r\n    }\r\n    return null;\r\n  }"],"mappings":"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"},"metadata":{},"sourceType":"module"}