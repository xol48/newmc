{"ast":null,"code":"var _jsxFileName = \"F:\\\\Documents\\\\PTUDWNC\\\\tictactoe\\\\src\\\\components\\\\Tictactoe.js\";\nimport React from 'react';\nimport Board from './Board';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass Game extends React.Component {\n  constructor() {\n    super();\n    this.state = {\n      history: [{\n        squares: Array(100).fill(null),\n        moveLocation: ''\n      }],\n      xIsNext: true,\n      stepNumber: 0,\n      isReverse: false\n    };\n  }\n\n  changeReverse(isReverse) {\n    this.setState({\n      isReverse: !isReverse\n    });\n  }\n\n  handleClick(i) {\n    const history = this.state.history.slice(0, this.state.stepNumber + 1);\n    const current = history[history.length - 1];\n    const squares = current.squares.slice();\n\n    if (calculateWinner(squares, null) || squares[i]) {\n      return;\n    }\n\n    const matrixSize = Math.sqrt(history[0].squares.length);\n    const moveLocation = [Math.floor(i / matrixSize) + 1, i % matrixSize + 1].join(\", \");\n    squares[i] = this.state.xIsNext ? 'X' : 'O';\n    this.setState({\n      history: history.concat([{\n        squares: squares,\n        moveLocation: moveLocation\n      }]),\n      xIsNext: !this.state.xIsNext,\n      stepNumber: history.length\n    });\n  }\n\n  jumpTo(step) {\n    this.setState({\n      stepNumber: step,\n      xIsNext: step % 2 === 0\n    });\n  }\n\n  render() {\n    const history = this.state.history;\n    const current = history[this.state.stepNumber];\n    const winner = calculateWinner(current.squares, current.moveLocation);\n    const squares = current.squares;\n    const isReverse = this.state.isReverse;\n    let status;\n\n    if (winner) {\n      status = \"Winner is: \" + winner.winnerPlayer;\n      ;\n    } else if (this.state.stepNumber === 9) {\n      status = \"No one win\";\n    } else {\n      status = \"Next player is: \" + (this.state.xIsNext ? 'X' : 'O');\n    }\n\n    const moves = history.map((step, move) => {\n      const description = move ? `Move #${move} (${step.moveLocation})` : 'Game start';\n      return /*#__PURE__*/_jsxDEV(\"li\", {\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => this.jumpTo(move),\n          children: description\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 9\n        }, this)\n      }, move, false, {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 17\n      }, this);\n    });\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"game\",\n        children: /*#__PURE__*/_jsxDEV(Board, {\n          squares: squares,\n          onClick: i => this.handleClick(i),\n          winner: winner && winner.winnerLocation\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 73,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"game-info\",\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          children: status\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 76,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"ol\", {\n          reversed: isReverse ? 'reverse' : '',\n          children: isReverse ? moves.reverse() : moves\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 77,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => this.changeReverse(isReverse),\n          children: \"Reverse list\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 9\n    }, this);\n  }\n\n}\n\nexport default Game;\n\nfunction calculateWinner(squares, current) {\n  if (current == null) {\n    return null;\n  }\n\n  let d = 0;\n  let c = squares[current[0] * Math.sqrt(squares.length) + current[1]];\n  let x = current[0];\n  let y = current[1];\n  let start = [-1, -1];\n  let n = Math.sqrt(squares.length);\n\n  for (let k = -4; k <= 4; k++) {\n    if (x + k >= 0 && x + k < n) {\n      if (squares[x * n + k * n + y] === c) {\n        d++;\n        start = [x + k, y];\n      } else if (d < 5) {\n        d = 0;\n      }\n    }\n  }\n\n  if (d >= 5) {\n    return {\n      winnerLocation: [start[0] * n + y, start[0] * n + n + y, start[0] * n + 2 * n + y, start[0] * n + 3 * n + y, start[0] * n + 4 * n + y],\n      winnerPlayer: c\n    };\n  } else {\n    d = 0;\n  }\n}","map":{"version":3,"names":["React","Board","Game","Component","constructor","state","history","squares","Array","fill","moveLocation","xIsNext","stepNumber","isReverse","changeReverse","setState","handleClick","i","slice","current","length","calculateWinner","matrixSize","Math","sqrt","floor","join","concat","jumpTo","step","render","winner","status","winnerPlayer","moves","map","move","description","winnerLocation","reverse","d","c","x","y","start","n","k"],"sources":["F:/Documents/PTUDWNC/tictactoe/src/components/Tictactoe.js"],"sourcesContent":["import React from 'react';\r\nimport Board from './Board';\r\n\r\nclass Game extends React.Component {\r\n    constructor(){\r\n        super();\r\n        this.state = {\r\n          history: [{\r\n            squares: Array(100).fill(null),\r\n            moveLocation: '', \r\n          }],\r\n          xIsNext: true,\r\n          stepNumber: 0,\r\n          isReverse: false,\r\n        };\r\n      }\r\n      changeReverse(isReverse){\r\n        this.setState({\r\n          isReverse: !isReverse\r\n        });\r\n      }\r\n      handleClick(i){\r\n        const history = this.state.history.slice(0, this.state.stepNumber + 1);\r\n        const current = history[history.length - 1];\r\n        const squares = current.squares.slice();\r\n        if(calculateWinner(squares,null) || squares[i]){\r\n          return;\r\n        }\r\n    \r\n        const matrixSize = Math.sqrt(history[0].squares.length);\r\n        const moveLocation = [Math.floor(i / matrixSize) + 1, (i % matrixSize) + 1].join(\", \"); \r\n        squares[i] = this.state.xIsNext ? 'X' : 'O';\r\n        this.setState({\r\n          history: history.concat([{\r\n            squares: squares,\r\n            moveLocation: moveLocation,\r\n          }]),\r\n          xIsNext: !this.state.xIsNext,\r\n          stepNumber: history.length\r\n        });\r\n      }\r\n    jumpTo(step) {\r\n      this.setState({\r\n        stepNumber: step,\r\n        xIsNext: (step % 2) === 0\r\n      });\r\n    }\r\n  \r\n    render() {\r\n      const history = this.state.history;\r\n      const current = history[this.state.stepNumber];\r\n      const winner = calculateWinner(current.squares,current.moveLocation);\r\n      const squares = current.squares;  \r\n      const isReverse = this.state.isReverse;  \r\n  \r\n      let status;\r\n      if(winner){\r\n        status = \"Winner is: \" + winner.winnerPlayer;;\r\n      }else if(this.state.stepNumber === 9){ \r\n        status = \"No one win\"; \r\n      }else{\r\n        status = \"Next player is: \" + (this.state.xIsNext ? 'X' : 'O');\r\n      }\r\n      const moves = history.map((step, move) => {\r\n        const description = move ? `Move #${move} (${step.moveLocation})` : 'Game start'; \r\n       return ( <li key={move}>\r\n        <button onClick={() => this.jumpTo(move)}>{description}</button>\r\n      </li>)\r\n      });\r\n      return(\r\n        <div>\r\n          <div className=\"game\">\r\n            <Board squares={squares} onClick={i => this.handleClick(i)} winner={winner && winner.winnerLocation}/>\r\n          </div>\r\n          <div className=\"game-info\">\r\n            <p>{status}</p>\r\n            <ol reversed={isReverse ? 'reverse' :''}>{isReverse ? moves.reverse() : moves}</ol>\r\n            <button onClick={() => this.changeReverse(isReverse)}>Reverse list</button>\r\n          </div>\r\n        </div>\r\n      );\r\n    }\r\n  }\r\n\r\nexport default Game;\r\n\r\nfunction calculateWinner(squares,current) {\r\n    if (current==null){\r\n        return null\r\n    }\r\n    let d=0;\r\n    let c=squares[current[0]*Math.sqrt(squares.length)+current[1]]\r\n    let x=current[0];\r\n    let y=current[1];\r\n    let start=[-1,-1];\r\n    let n=Math.sqrt(squares.length)\r\n    for (let k = -4; k <= 4; k++) {\r\n        if (x + k >= 0 && x + k < n) {\r\n            if (squares[x*n + k*n+y] === c) {\r\n                d++;\r\n                start=[x+k,y];\r\n            } else if (d < 5) {\r\n                d = 0;\r\n            }\r\n        }\r\n    }\r\n    if (d >= 5) {\r\n        return{\r\n            winnerLocation: [start[0]*n+y,start[0]*n+n+y,start[0]*n+2*n+y,start[0]*n+3*n+y,start[0]*n+4*n+y],\r\n            winnerPlayer: c\r\n        }\r\n    } else {\r\n        d = 0;\r\n    }\r\n    \r\n  }"],"mappings":"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"},"metadata":{},"sourceType":"module"}